{% set version = "1.0.2" %}
{% set sha256 = "aae90af6b4730824ba15a3e8a868dff8e09f3db3d89b9b23ac2c70cbe1230246" %}
{% set sip_version = "4.19.20" %}
{% set sip_sha256 = "04cc2f87ac97e8718d8e1ef036e3ec26050ab44c21f9277618d5b67432fcbfd6" %}
# curl -sL https://github.com/rpalovics/Alpenglow/archive/vX.X.X.tar.gz | openssl sha256

package:
  name: alpenglow
  version: {{ version }}

source:
  - url:  https://www.riverbankcomputing.com/static/Downloads/sip/{{ sip_version }}/sip-{{ sip_version }}.tar.gz
    sha256: {{ sip_sha256 }}
    folder: sip
    patches:
      - 0001-Do-not-override-CC-CXX-LINK-in-sipgen-Makefile.patch
  - url: https://github.com/rpalovics/Alpenglow/archive/v{{ version }}.tar.gz
    sha256: {{ sha256 }}
    folder: alpenglow

build:
  skip: True  # [py<35]
  number: 0

requirements:
  build:
    - {{ compiler('c') }}
    - {{ compiler('cxx') }}
    - {{ compiler('fortran') }}
    - make  # [not win]
  host:
    - python
    - setuptools
    - eigen
    - numpy
    - pip
  run:
    - python
    - pandas
    - numpy

test:
  imports:
    - alpenglow
    - alpenglow.experiments
    - alpenglow.evaluation
    - alpenglow.utils
    - alpenglow.offline
    - alpenglow.offline.models
    - alpenglow.offline.evaluation
    - alpenglow.cpp

about:
  home: https://github.com/rpalovics/Alpenglow
  summary: Open Source Recommender Framework with Time-aware Learning and Evaluation
  license: Apache-2.0
  license_file:
    - alpenglow/LICENSE
    - sip/LICENSE
  doc_url: http://alpenglow.readthedocs.io/

extra:
  recipe-maintainers:
    - proto-n
